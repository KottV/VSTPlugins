<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="" >

<head>
<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<meta name="dcterms.date" content="2020-03-10" />
<title>IterativeSinCluster_en</title>
<style>
code { white-space: pre-wrap; }
span.smallcaps { font-variant: small-caps; }
span.underline { text-decoration: underline; }
div.column { display: inline-block; vertical-align: top; width: 50%; }
</style>
<style>
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style>
body {
  max-width: 704px;
  margin: auto;
  padding: 32px 8px;
}

img {
  max-width: 100%;
}

video {
  max-width: 100%;
}

kbd {
  border-style: solid;
  border-width: 1px 2px 2px 1px;
  border-radius: 2px;
  padding: 2px;
  margin: 2px;
}

a {
  text-decoration: none;
}

h1 {
  background-color: #163eac;
  color: #ffffff;
  padding-left: 8px;
}

h2 {
  border-left: solid 32px #163eac;
  padding-left: 24px;
}

h3 {
  border-left: solid 20px #163eac;
  padding-left: 16px;
}

h4, h5, h6 {
  border-left: solid 8px #163eac;
  padding-left: 8px;
}

table {
  border-spacing: 0px;
  border-collapse: separate;
  border: 1px solid #dddddd;
}

tr.header {
  border: 1px solid black;
}

tr.odd {
  background: #eeeeee;
}

tr.even {
  background: #ffffff;
}

th {
  height: 2em;
  font-weight: normal;
  padding-left: 0.35em;
  padding-right: 0.35em;
  border-bottom: 3px solid #dddddd;
  border-left: 1px solid #dddddd;
}

td {
  height: 1.5em;
  padding-left: 0.35em;
  padding-right: 0.35em;
  border-bottom: 1px solid #dddddd;
  border-left: 1px solid #dddddd;
}

audio {
  vertical-align: middle;
}

label {
  vertical-align: middle;
}

code {
  color: #163eac;
}

pre {
  border: 4px solid #eeeeee;
}

li {
  margin: 8px;
}

summary:hover {
  background-color: #eeeeee;
}

header {
  border-bottom: 1px gray solid;
  padding: 0.5em;
  margin-bottom: 1em;
}

footer {
  border-top: 1px gray solid;
  padding: 0.5em;
  margin-top: 1em;
}
</style>
</head>

<body>
<header>
    <p><a href="../../index.html">Back to Index</a></p>
      <p>
  Update: 2020-03-10
  </p>
      <details>
  <summary translate="yes">Table of Contents</summary>
  <nav id="TOC" role="doc-toc">
  <ul>
  <li><a href="#iterativesincluster">IterativeSinCluster</a><ul>
  <li><a href="#installation">Installation</a><ul>
  <li><a href="#plugin">Plugin</a></li>
  <li><a href="#presets">Presets</a></li>
  <li><a href="#windows-specific">Windows Specific</a></li>
  <li><a href="#linux-specific">Linux Specific</a></li>
  </ul></li>
  <li><a href="#controls">Controls</a></li>
  <li><a href="#block-diagram">Block Diagram</a></li>
  <li><a href="#parameters">Parameters</a><ul>
  <li><a href="#gain">Gain</a><ul>
  <li><a href="#boost-gain">Boost, Gain</a></li>
  <li><a href="#adsr">ADSR</a></li>
  <li><a href="#curve">Curve</a></li>
  </ul></li>
  <li><a href="#shelving">Shelving</a></li>
  <li><a href="#pitch">Pitch</a><ul>
  <li><a href="#add-aliasing">Add Aliasing</a></li>
  <li><a href="#reverse-semi">Reverse Semi</a></li>
  <li><a href="#octave">Octave</a></li>
  <li><a href="#et">ET</a></li>
  <li><a href="#multiply-modulo">Multiply, Modulo</a></li>
  </ul></li>
  <li><a href="#smooth">Smooth</a></li>
  <li><a href="#nvoice">nVoice</a></li>
  <li><a href="#random">Random</a><ul>
  <li><a href="#retrigger">Retrigger</a></li>
  <li><a href="#seed">Seed</a></li>
  <li><a href="#to-gain">To Gain</a></li>
  <li><a href="#to-pitch">To Pitch</a></li>
  </ul></li>
  <li><a href="#note-chord-overtone">Note, Chord, Overtone</a></li>
  <li><a href="#chorus">Chorus</a><ul>
  <li><a href="#mix">Mix</a></li>
  <li><a href="#freq">Freq</a></li>
  <li><a href="#depth">Depth</a></li>
  <li><a href="#range">Range</a></li>
  <li><a href="#time">Time</a></li>
  <li><a href="#phase">Phase</a></li>
  <li><a href="#offset">Offset</a></li>
  <li><a href="#feedback">Feedback</a></li>
  <li><a href="#key-follow">Key Follow</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#change-log">Change Log</a><ul>
  <li><a href="#old-versions">Old Versions</a></li>
  </ul></li>
  <li><a href="#license">License</a><ul>
  <li><a href="#about-vst">About VST</a></li>
  </ul></li>
  </ul></li>
  </ul>
  </nav>
  </details>
  </header>
<h1 id="iterativesincluster">IterativeSinCluster</h1>
<p><img src="img/iterativesincluster.png" /></p>
<p>IterativeSinCluster is an additive synthesizer. This synth computes 512 sine waves for each note to make tone cluster. I somehow thought “iterative sin” is a valid term. Correct term is “recursive sine”.</p>
<ul>
<li><a href="https://github.com/ryukau/VSTPlugins/releases/download/BarBoxFocusFix/IterativeSinCluster0.1.6.zip">Download IterativeSinCluster 0.1.6 - VST® 3 (github.com)</a> <img
src="img/VST_Compatible_Logo_Steinberg_negative.svg"
alt="VST compatible logo."
width="60px"
style="display: inline-block; vertical-align: middle;"></li>
<li><a href="https://github.com/ryukau/VSTPlugins/releases/download/EnvelopedSine0.1.0/IterativeSinClusterPresets.zip">Download Presets (github.com)</a></li>
</ul>
<p>IterativeSinCluster requires CPU which supports AVX or later SIMD instructions.</p>
<p>The package includes following builds:</p>
<ul>
<li>Windows 64bit</li>
<li>Linux 64bit</li>
<li>macOS 64bit</li>
</ul>
<p>macOS build isn’t tested because I don’t have Mac. If you found a bug, please file a issue to <a href="https://github.com/ryukau/VSTPlugins">GitHub repository</a> or send email to <code>ryukau@gmail.com</code>.</p>
<p>Linux build is built on Ubuntu 18.0.4 and tested on Bitwig 3.1.2 and Reaper 6.03. Bitwig 3.1.2 seems to have a bug that occasionally blackouts GUI.</p>
<h2 id="installation">Installation</h2>
<h3 id="plugin">Plugin</h3>
<p>Place <code>*.vst3</code> directory to:</p>
<ul>
<li><code>/Program Files/Common Files/VST3/</code> for Windows.</li>
<li><code>$HOME/.vst3/</code> for Linux.</li>
<li><code>/Users/$USERNAME/Library/Audio/Plug-ins/VST3/</code> for macOS.</li>
</ul>
<p>DAW may provides additional VST3 directory. For more information, please refer to the manual of the DAW.</p>
<h3 id="presets">Presets</h3>
<p>Extract preset zip, then place preset directory to the OS specific path:</p>
<ul>
<li>Windows : <code>/Users/$USERNAME/Documents/VST3 Presets/Uhhyou</code></li>
<li>Linux : <code>$HOME/.vst3/presets/Uhhyou</code></li>
<li>macOS : <code>/Users/$USERNAME/Library/Audio/Presets/Uhhyou</code></li>
</ul>
<p>Preset directory name must be the same as the plugin. Make <code>Uhhyou</code> directory if it does not exist.</p>
<h3 id="windows-specific">Windows Specific</h3>
<p>If DAW doesn’t recognize the plugin, try installing C++ redistributable (<code>vc_redist.x64.exe</code>). Installer can be found in the link below.</p>
<ul>
<li><a href="https://support.microsoft.com/en-us/help/2977003/the-latest-supported-visual-c-downloads">The latest supported Visual C++ downloads</a></li>
</ul>
<h3 id="linux-specific">Linux Specific</h3>
<p>On Ubuntu 18.0.4, those packages are required.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">sudo</span> apt install libxcb-cursor0  libxkbcommon-x11-0</span></code></pre></div>
<p>If DAW doesn’t recognize the plugin, take a look at <code>Package Requirements</code> section of the link below and make sure all the VST3 related package is installed.</p>
<ul>
<li><a href="https://steinbergmedia.github.io/vst3_doc/vstinterfaces/linuxSetup.html">VST 3 Interfaces: Setup Linux for building VST 3 Plug-ins</a></li>
</ul>
<p>REAPER on Linux may not recognize the plugin. A workaround is to delete a file <code>~/.config/REAPER/reaper-vstplugins64.ini</code> and restart REAPER.</p>
<h2 id="controls">Controls</h2>
<p>Knob and slider can do:</p>
<ul>
<li><kbd>Ctrl</kbd> + <kbd>Left Click</kbd>: Reset value.</li>
<li><kbd>Shift</kbd> + <kbd>Left Drag</kbd>: Fine adjustment.</li>
</ul>
<p>Additionally, number sliders use in <code>Gain</code>, <code>Semi</code> etc. can do:</p>
<ul>
<li><kbd>Wheel Click</kbd>: Toggle Min/Max.</li>
</ul>
<p><code>Overtone</code> has following controls:</p>
<ul>
<li><kbd>Ctrl</kbd> + <kbd>Left Drag</kbd>: Reset to Default</li>
<li><kbd>Mouse Wheel Drag</kbd>: Draw Line</li>
</ul>
<h2 id="block-diagram">Block Diagram</h2>
<p>If the image is small, use <kbd>Ctrl</kbd> + <kbd>Mouse Wheel</kbd> or “View Image” on right click menu to scale.</p>
<p>Diagram only shows overview. It’s not exact implementation.</p>
<p><img src="img/iterativesincluster.svg" /></p>
<h2 id="parameters">Parameters</h2>
<h3 id="gain">Gain</h3>
<h4 id="boost-gain">Boost, Gain</h4>
<p>Both controls output gain. Peak value of output will be <code>Boost * Gain</code>.</p>
<p>It’s possible that output gain becomes too small while changing gain of <code>Note</code>, <code>Chord</code>, <code>Overtone</code>. <code>Boost</code> can be useful in this situation.</p>
<h4 id="adsr">ADSR</h4>
<p>Parameters for gain envelope.</p>
<ul>
<li><code>A</code> : Attack time which is the length from note-on to reaching peak value.</li>
<li><code>D</code> : Decay time which is the length from peak value to reaching sustain level.</li>
<li><code>S</code> : Sustain level which is the gain after decay.</li>
<li><code>R</code> : Release time which is the length from note-off to the gain reaching to 0.</li>
</ul>
<h4 id="curve">Curve</h4>
<p>Change attack curve of gain envelope.</p>
<h3 id="shelving">Shelving</h3>
<p>Cutoff freqeuncy can be changed by <code>Semi</code>, which is relative to a note frequency. For example, if the note is C4 and <code>Semi</code> is 12.000, cutoff frequency is set to <code>C4 + 12 semitone = C5</code>.</p>
<ul>
<li><code>Low</code> shelving changes <code>Gain</code> of sine waves <strong>less than or equal to</strong> the cutoff frequency specified by <code>Semi</code>.</li>
<li><code>High</code> shelving changes <code>Gain</code> of sine waves <strong>greater than or equal to</strong> the cutoff frequency specified by <code>Semi</code>.</li>
</ul>
<h3 id="pitch">Pitch</h3>
<h4 id="add-aliasing">Add Aliasing</h4>
<p>When checked, the synth enables rendering of sine waves over nyquist frequency.</p>
<p>Roughly speaking, nyquist frequency is the highest frequency that can be reconstructed from recorded digital signal. When generating sound, it’s possible to set value that is higher than nyquist frequency. However, the result may contain unexpected frequency due to a phenomenon called aliasing. <code>Add Aliasing</code> is option to add those aliasing noise.</p>
<h4 id="reverse-semi">Reverse Semi</h4>
<p>When checked, negate sign of <code>Semi</code>. For example, 7.000 becomes -7.000.</p>
<h4 id="octave">Octave</h4>
<p>Note octave.</p>
<h4 id="et">ET</h4>
<p><code>ET</code> stands for equal temperament. This parameter can be used to change tuning of <code>Semi</code> and <code>Milli</code>.</p>
<p>Note that this parameter is not to change tuning of notes sent from plugin host. Only affect to internal parameters.</p>
<h4 id="multiply-modulo">Multiply, Modulo</h4>
<p>Change sine wave frequency.</p>
<p>Equation is <code>noteFrequency * (1 + fmod(Multiply * pitch, Modulo))</code>. <code>pitch</code> is calculated from <code>Note</code>, <code>Chord</code> and <code>Overtone</code>. <code>fmod(a, b)</code> is a function that returns reminder of <code>a / b</code>.</p>
<h3 id="smooth">Smooth</h3>
<p>Time length to change some parameter value to current one. Unit is in second.</p>
<p>List of parameters related to <code>Smooth</code>. <code>*</code> represents wild card.</p>
<ul>
<li>All parameters in <code>Gain</code> section.</li>
<li><code>Chord.Pan</code></li>
<li>All parameters in <code>Chorus</code> section, except <code>Key Follow</code>.</li>
</ul>
<p>Other parameter uses the value obtained from the timing of note-on for entire duration of a note.</p>
<h3 id="nvoice">nVoice</h3>
<p>Maximum polyphony. Lowering the number of this option reduces CPU load.</p>
<h3 id="random">Random</h3>
<h4 id="retrigger">Retrigger</h4>
<p>When checked, reset random seed for each note-on.</p>
<h4 id="seed">Seed</h4>
<p>Random seed. This value change random number sequence.</p>
<h4 id="to-gain">To Gain</h4>
<p>Amount of randomization to sine wave gain. Randomization is done for each note-on.</p>
<h4 id="to-pitch">To Pitch</h4>
<p>Amount of randomization to sine wave pitch. Randomization is done for each note-on.</p>
<h3 id="note-chord-overtone">Note, Chord, Overtone</h3>
<p>Change sine wave gain and pitch.</p>
<p>1 <code>Note</code> have 16 <code>Overtone</code>. 1 <code>Chord</code> consists of 8 <code>Note</code>. 4 <code>Chord</code> are available to use.</p>
<p>Common parameters for <code>Note</code> and <code>Chord</code>.</p>
<ul>
<li><code>Gain</code> : Sine wave gain.</li>
<li><code>Semi</code> : Distance from note frequency. Unit is semitone.</li>
<li><code>Milli</code> : Distance from note frequency. Unit is 1 / 1000 semitone, or 1 / 10 cent.</li>
</ul>
<p>Leftmost of <code>Overtone</code> is gain of fundamental frequency (1st overtone) of a note. For each bar from left represents 1st, 2nd, 3rd, … , 16th overtone gain.</p>
<p>Below is the summary of calculation of sine wave frequency.</p>
<pre><code>function toneToPitch(semi, milli):
  return 2 ^ (1000 * semi + milli) / (ET * 1000)

for each Chord:
  chordPitch = toneToPitch(Chord.semi, Chord.milli)
  for each Note:
    notePitch = toneToPitch(Note.semi, Note.milli)
    for each Overtone:
      frequency = midiNoteFrequency
        * (1 + mod(Multiply * Overtone * notePitch * chordPitch, Modulo))</code></pre>
<h3 id="chorus">Chorus</h3>
<h4 id="mix">Mix</h4>
<p>Change Dry/Wet mix ratio.</p>
<h4 id="freq">Freq</h4>
<p>Chorus LFO frequency.</p>
<h4 id="depth">Depth</h4>
<p>Change stereo spread.</p>
<h4 id="range">Range</h4>
<p>Amount of modulation from LFO to delay time. There are three delays in this chorus.</p>
<h4 id="time">Time</h4>
<p>Delay time.</p>
<h4 id="phase">Phase</h4>
<p>LFO phase.</p>
<h4 id="offset">Offset</h4>
<p>Phase difference between delays.</p>
<h4 id="feedback">Feedback</h4>
<p>Feedback of delay.</p>
<h4 id="key-follow">Key Follow</h4>
<p>When checked, change delay time relative to note frequency.</p>
<h2 id="change-log">Change Log</h2>
<ul>
<li>0.1.6
<ul>
<li>Changed BarBox shortcuts to be disabled when mouse cursor is on the outside of BarBox.</li>
</ul></li>
<li>0.1.5
<ul>
<li>Fixed a bug that cause crash when drawing string.</li>
</ul></li>
<li>0.1.4
<ul>
<li>Changed display method for pop-up which shows up by clicking plugin title.</li>
</ul></li>
<li>0.1.3
<ul>
<li>Fixed a bug that was causing noise on PreSonus Studio One 4.6.1.</li>
</ul></li>
<li>0.1.2
<ul>
<li>Enabled GUI for Linux build.</li>
</ul></li>
<li>0.1.1
<ul>
<li>Fixed macOS build.</li>
<li>Added code paths for AVX and AVX512 instructions.</li>
<li>Fixed wobbling knob bug.</li>
</ul></li>
<li>0.1.0
<ul>
<li>Initial release.</li>
</ul></li>
</ul>
<h3 id="old-versions">Old Versions</h3>
<ul>
<li><a href="https://github.com/ryukau/VSTPlugins/releases/download/DrawStringFix/IterativeSinCluster0.1.5.zip">IterativeSinCluster 0.1.5 - VST 3 (github.com)</a></li>
<li>[IterativeSinCluster 0.1.3 - VST 3 (github.com)](https://github.com/ryukau/VSTPlugins/releases/download/EsPhaser0.1.0/IterativeSinCluster0.1.3.zip</li>
<li><a href="https://github.com/ryukau/VSTPlugins/releases/download/LinuxGUIFix/IterativeSinCluster0.1.2.zip">IterativeSinCluster 0.1.2 - VST 3 (github.com)</a></li>
<li><a href="https://github.com/ryukau/VSTPlugins/releases/download/EnvelopedSine0.1.0/IterativeSinCluster0.1.1.zip">IterativeSinCluster 0.1.1 - VST 3 (github.com)</a></li>
<li><a href="https://github.com/ryukau/VSTPlugins/releases/download/IterativeSinCluster0.1.0/IterativeSinCluster0.1.0.zip">IterativeSinCluster 0.1.0 - VST 3 (github.com)</a></li>
</ul>
<h2 id="license">License</h2>
<p>IterativeSinCluster is licensed under GPLv3. Complete licenses are linked below.</p>
<ul>
<li><a href="https://github.com/ryukau/VSTPlugins/tree/master/License">https://github.com/ryukau/VSTPlugins/tree/master/License</a></li>
</ul>
<p>If the link above doesn’t work, please send email to <code>ryukau@gmail.com</code>.</p>
<h3 id="about-vst">About VST</h3>
<p>VST is a trademark of Steinberg Media Technologies GmbH, registered in Europe and other countries.</p>

<footer>
    <p><a href="../../index.html">Back to Index</a></p>
  </footer>
</body>

</html>
